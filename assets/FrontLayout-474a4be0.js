import{p as U,m as Y,g as R,u as D,c as t,a as b,V as d,I as E,b as j,d as q,e as z,f as G,h as H,i as J,j as K,t as I,k as O,l as Q,n as W,o as Z,q as ee,r as ae,M as te,w as oe,v as ne,s as L,x as se,y as le,z as re,A as ie,B as ue,C as ce,D as M,E as de,F as me,G as s,H as p,J as T,K as u,L as o,N as g,O as v,P as fe,Q as pe,R as P,S as ge,T as ve,U as $,W as w,X as A,Y as F,Z as be,_ as he}from"./index-6356e235.js";import{V as Ve,a as ke,b as _e}from"./VNavigationDrawer-6a755fe1.js";import{m as ye,V as Be}from"./VToolbar-7c4a8862.js";import{V as Ce}from"./VContainer-72a6c4f4.js";/* empty css              */const we=U({...Y({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),xe=R()({name:"VAppBarNavIcon",props:we(),setup(e,l){let{slots:r}=l;return D(()=>t(d,b(e,{class:["v-app-bar-nav-icon"]}),r)),{}}}),Se=R()({name:"VAppBarTitle",props:ye(),setup(e,l){let{slots:r}=l;return D(()=>t(Be,b(e,{class:"v-app-bar-title"}),r)),{}}});const Ne=U({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:E,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...j(),...q({location:"top end"}),...z(),...G(),...H(),...J({transition:"scale-rotate-transition"})},"VBadge"),Te=R()({name:"VBadge",inheritAttrs:!1,props:Ne(),setup(e,l){const{backgroundColorClasses:r,backgroundColorStyles:h}=K(I(e,"color")),{roundedClasses:V}=O(e),{t:i}=Q(),{textColorClasses:x,textColorStyles:k}=W(I(e,"textColor")),{themeClasses:S}=Z(),{locationStyles:m}=ee(e,!0,n=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(n)?+(e.offsetY??0):["left","right"].includes(n)?+(e.offsetX??0):0));return D(()=>{const n=Number(e.content),_=!e.max||isNaN(n)?e.content:n<=+e.max?n:`${e.max}+`,[N,y]=ae(l.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return t(e.tag,b({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},y,{style:e.style}),{default:()=>{var B,C;return[t("div",{class:"v-badge__wrapper"},[(C=(B=l.slots).default)==null?void 0:C.call(B),t(te,{transition:e.transition},{default:()=>{var c,f;return[oe(t("span",b({class:["v-badge__badge",S.value,r.value,V.value,x.value],style:[h.value,k.value,e.inline?{}:m.value],"aria-atomic":"true","aria-label":i(e.label,n),"aria-live":"polite",role:"status"},N),[e.dot?void 0:l.slots.badge?(f=(c=l.slots).badge)==null?void 0:f.call(c):e.icon?t(L,{icon:e.icon},null):_]),[[ne,e.modelValue]])]}})])]}})}),{}}}),Pe=""+new URL("logo_navbar-7d8e7719.png",import.meta.url).href,Ae={class:"text-center"},$e={__name:"FrontLayout",setup(e){const l=se(),r=le(),h=re(),V=ie(),{isLogin:i,isAdmin:x,cart:k}=ue(V),{mobile:S}=ce(),m=M(()=>S.value),n=de(!1),_=()=>{r.push("/")},N=()=>{n.value===!1?n.value=!0:n.value=!1},y=[{name:"首頁",path:"/home",icon:"mdi-home"},{name:"菜單",path:"/menu",icon:"mdi-clipboard-text"},{name:"美味專區",path:"/products",icon:"mdi-shopping-outline"},{name:"廚藝教室",path:"/course",icon:"mdi-chef-hat"},{name:"關於我們",path:"/about",icon:"mdi-information"}],B=M(()=>[{name:"登入",path:"/login",icon:"mdi-login",show:!i.value},{name:"註冊",path:"/register",icon:"mdi-account-plus",show:!i.value},{name:"管理",path:"/admin",icon:"mdi-account-tie",show:i.value&&x.value},{name:"會員資訊",path:"/account",icon:"mdi-list-box",show:i.value},{name:"登出",path:"/home",icon:"mdi-logout",show:i.value}]),C=async()=>{try{await he.delete("/users/logout"),V.logout(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:3e3,color:"green",location:"bottom"}})}catch(c){h({text:c.response.data.message,showCloseButton:!1,snackbarProps:{timeout:3e3,color:"red",location:"bottom"}})}};return(c,f)=>{const X=me("router-view");return s(),p(v,null,[T(l).path!=="/"?(s(),u(Ve,{key:0,id:"appBar",color:"#514742"},{default:o(()=>[t(Ce,{class:"d-flex align-center"},{default:o(()=>[t(Se,null,{default:o(()=>[t(fe,{src:Pe,width:"150",onClick:_,style:{cursor:"pointer"}})]),_:1}),t(pe),m.value?g("",!0):(s(),p(v,{key:0},P(y,a=>t(d,{key:a,variant:"text",to:a.path},{default:o(()=>[w(A(a.name),1)]),_:2},1032,["to"])),64)),ge("div",Ae,[t(ve,{transition:"fade-transition"},{activator:o(({props:a})=>[t(d,b({icon:"mdi-account"},a,{title:"會員"}),null,16)]),default:o(()=>[t($,null,{default:o(()=>[(s(!0),p(v,null,P(B.value,a=>(s(),p(v,{key:a},[a.show?(s(),u(F,{key:0},{default:o(()=>[t(be,null,{default:o(()=>[a.name!=="登出"?(s(),u(d,{key:0,variant:"text","prepend-icon":a.icon,to:a.path,active:!1,style:{color:"#514742"}},{default:o(()=>[w(A(a.name),1)]),_:2},1032,["prepend-icon","to"])):(s(),u(d,{key:1,variant:"text","prepend-icon":a.icon,active:!1,style:{color:"#514742"},onClick:C,to:a.path},{default:o(()=>[w(A(a.name),1)]),_:2},1032,["prepend-icon","to"]))]),_:2},1024)]),_:2},1024)):g("",!0)],64))),128))]),_:1})]),_:1})]),t(d,{icon:"",title:"購物車",to:"/cart"},{default:o(()=>[t(Te,{content:T(k).toString(),color:"orange","model-value":T(k)>0},{default:o(()=>[t(L,{color:"white"},{default:o(()=>[w("mdi-shopping")]),_:1})]),_:1},8,["content","model-value"])]),_:1}),m.value?(s(),u(xe,{key:1,onClick:N})):g("",!0)]),_:1})]),_:1})):g("",!0),m.value?(s(),u(ke,{key:1,modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=a=>n.value=a),location:"top",temporary:""},{default:o(()=>[t($,null,{default:o(()=>[(s(),p(v,null,P(y,a=>t(F,{key:a.path,value:a,rounded:"xl",to:a.path,active:!1,title:a.name},{prepend:o(()=>[t(L,{icon:a.icon},null,8,["icon"])]),_:2},1032,["value","to","title"])),64))]),_:1})]),_:1},8,["modelValue"])):g("",!0),t(_e,null,{default:o(()=>[(s(),u(X,{key:c.$route.path}))]),_:1})],64)}}};export{$e as default};
